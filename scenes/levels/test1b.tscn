[gd_scene load_steps=12 format=2]

[ext_resource path="res://src/level.gd" type="Script" id=1]
[ext_resource path="res://assets/tilesets/tileset_test.tres" type="TileSet" id=2]
[ext_resource path="res://scenes/room.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/hazard_tiles.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/enemy.tscn" type="PackedScene" id=14]
[ext_resource path="res://assets/bg.png" type="Texture" id=15]
[ext_resource path="res://shaders/grayscale.gdshader" type="Shader" id=16]
[ext_resource path="res://scenes/hazard_zone.tscn" type="PackedScene" id=17]
[ext_resource path="res://src/background.gd" type="Script" id=19]

[sub_resource type="GDScript" id=1]
script/source = "extends CPUParticles2D


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"

# Called when the node enters the scene tree for the first time.
func _ready():
    Game.connect(\"paused\", self, \"on_pause\")
    Game.connect(\"unpaused\", self, \"on_unpause\")
    
func on_pause():
    speed_scale = 0
    
func on_unpause():
    speed_scale = 1


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#    pass
"

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 16 )

[node name="level" type="Node2D"]
pause_mode = 2
script = ExtResource( 1 )

[node name="tilemap" type="TileMap" parent="."]
pause_mode = 2
scale = Vector2( 4, 4 )
z_index = 1
tile_set = ExtResource( 2 )
cell_size = Vector2( 8, 8 )
cell_custom_transform = Transform2D( 32, 0, 0, 32, 0, 0 )
cell_y_sort = true
collision_mask = 34
format = 1
tile_data = PoolIntArray( -1638268, 22, 0, -1507196, 22, 0, -1507188, 22, 0, -1376124, 22, 0, -1376116, 22, 0, -1245052, 22, 0, -1245044, 22, 0, -1113980, 22, 0, -1113972, 22, 0, -982908, 22, 0, -982906, 22, 0, -982904, 22, 0, -982902, 22, 0, -982900, 22, 0, -917402, 22, 0, -917400, 22, 0, -917398, 22, 0, -917396, 22, 0, -851836, 22, 0, -851834, 22, 0, -851832, 22, 0, -851830, 22, 0, -851828, 22, 0, -720898, 22, 0, -786432, 22, 0, -786426, 22, 0, -786424, 22, 0, -786416, 22, 0, -786414, 22, 0, -786330, 22, 0, -786328, 22, 0, -786326, 22, 0, -786324, 22, 0, -720764, 22, 0, -720762, 22, 0, -720760, 22, 0, -720758, 22, 0, -720756, 22, 0, -589826, 22, 0, -655360, 22, 0, -655354, 22, 0, -655352, 22, 0, -655344, 22, 0, -655342, 22, 0, -655258, 22, 0, -655256, 22, 0, -655254, 22, 0, -655252, 22, 0, -589692, 22, 0, -589690, 22, 0, -589688, 22, 0, -589686, 22, 0, -589684, 22, 0, -458754, 22, 0, -524288, 22, 0, -524282, 22, 0, -524280, 22, 0, -524272, 22, 0, -524270, 22, 0, -524186, 22, 0, -524184, 22, 0, -524182, 22, 0, -524180, 22, 0, -458620, 22, 0, -458618, 22, 0, -458616, 22, 0, -458614, 22, 0, -458612, 22, 0, -327682, 22, 0, -393216, 22, 0, -393210, 22, 0, -393208, 22, 0, -393200, 22, 0, -393198, 22, 0, -393114, 22, 0, -393112, 22, 0, -393110, 22, 0, -393108, 22, 0, -327546, 22, 0, -327544, 22, 0, -327542, 22, 0, -327540, 22, 0, -196610, 22, 0, -262144, 22, 0, -262128, 22, 0, -262126, 22, 0, -262042, 22, 0, -262040, 22, 0, -262038, 22, 0, -262036, 22, 0, -196602, 22, 0, -196600, 22, 0, -196474, 22, 0, -196472, 22, 0, -196470, 22, 0, -65538, 22, 0, -131072, 22, 0, -131056, 22, 0, -131054, 22, 0, -130970, 22, 0, -130968, 22, 0, -130966, 22, 0, -130964, 22, 0, -65530, 22, 0, -65528, 22, 0, -65402, 22, 0, -65400, 22, 0, -65398, 22, 0, 65534, 22, 0, 0, 22, 0, 16, 22, 0, 18, 22, 0, 102, 22, 0, 104, 22, 0, 106, 22, 0, 65542, 22, 0, 65544, 22, 0, 65670, 22, 0, 65672, 22, 0, 65674, 22, 0, 196606, 22, 0, 131072, 22, 0, 131088, 22, 0, 131090, 22, 0, 131174, 22, 0, 131176, 22, 0, 131178, 22, 0, 196615, 23, 0, 196742, 22, 0, 196744, 22, 0, 196746, 22, 0, 327678, 22, 0, 262144, 22, 0, 262160, 22, 0, 262162, 22, 0, 262246, 22, 0, 262248, 22, 0, 262250, 22, 0, 262265, 35, 0, 262267, 36, 0, 262269, 37, 0, 262271, 24, 0, 327815, 38, 0, 327816, 23, 0, 327817, 38, 0, 458750, 22, 0, 393216, 22, 0, 393232, 22, 0, 393234, 22, 0, 393274, 35, 0, 393276, 37, 0, 393278, 24, 0, 393318, 22, 0, 393320, 22, 0, 393322, 22, 0, 393338, 38, 0, 393339, 23, 0, 393340, 38, 0, 458778, 24, 0, 458780, 35, 0, 458782, 37, 0, 458888, 38, 0, 589822, 22, 0, 524288, 22, 0, 524304, 22, 0, 524306, 22, 0, 524345, 22, 0, 524347, 22, 0, 524362, 24, 0, 524364, 24, 0, 524366, 35, 0, 524368, 36, 0, 524370, 36, 0, 524372, 37, 0, 524374, 24, 0, 524390, 22, 0, 524392, 22, 0, 524394, 22, 0, 524396, 36, 0, 524398, 36, 0, 524400, 36, 0, 524402, 36, 0, 524404, 37, 0, 524410, 38, 0, 524412, 38, 0, 589852, 22, 0, 589854, 22, 0, 589960, 38, 0, 720894, 22, 0, 655360, 22, 0, 655376, 22, 0, 655378, 22, 0, 655388, 38, 0, 655390, 38, 0, 655417, 22, 0, 655419, 22, 0, 655438, 22, 0, 655440, 40, 0, 655441, 38, 0, 655474, 22, 0, 655476, 22, 0, 655482, 38, 0, 655484, 38, 0, 720924, 41, 0, 720925, 22, 0, 720927, 41, 0, 720975, 38, 0, 721031, 38, 0, 721033, 38, 0, 851966, 22, 0, 786432, 22, 0, 786448, 41, 0, 786449, 22, 0, 786451, 41, 0, 786460, 38, 0, 786462, 38, 0, 786488, 22, 0, 786490, 22, 0, 786492, 38, 0, 786509, 22, 0, 786513, 40, 0, 786546, 22, 0, 786548, 22, 0, 786554, 35, 0, 786556, 37, 0, 786566, 27, 0, 786568, 36, 0, 786570, 37, 0, 786572, 24, 0, 851984, 38, 0, 851986, 38, 0, 852047, 41, 0, 852048, 38, 0, 983038, 22, 0, 917504, 22, 0, 917532, 38, 0, 917534, 38, 0, 917561, 22, 0, 917563, 38, 0, 917564, 41, 0, 917565, 35, 0, 917567, 36, 0, 917569, 37, 0, 917582, 22, 0, 917618, 38, 0, 917619, 23, 0, 917620, 38, 0, 917626, 38, 0, 917628, 38, 0, 917638, 30, 0, 917640, 22, 0, 917642, 23, 0, 983057, 38, 0, 983119, 38, 0, 983121, 38, 0, 1114110, 22, 0, 1048576, 22, 0, 1048578, 36, 0, 1048580, 36, 0, 1048582, 37, 0, 1048604, 38, 0, 1048606, 38, 0, 1048610, 24, 0, 1048612, 35, 0, 1048614, 36, 0, 1048616, 36, 0, 1048618, 37, 0, 1048620, 24, 0, 1048622, 24, 0, 1048636, 23, 0, 1048638, 22, 0, 1048640, 22, 0, 1048654, 22, 0, 1048656, 23, 0, 1048658, 22, 0, 1048660, 24, 0, 1048670, 24, 0, 1048672, 24, 0, 1048674, 35, 0, 1048676, 36, 0, 1048678, 36, 0, 1048680, 36, 0, 1048682, 36, 0, 1048684, 37, 0, 1048690, 38, 0, 1048692, 38, 0, 1048698, 38, 0, 1048700, 38, 0, 1048704, 24, 0, 1048706, 35, 0, 1048708, 36, 0, 1048710, 22, 0, 1048712, 22, 0, 1114129, 38, 0, 1114172, 38, 0, 1114192, 22, 0, 1245182, 22, 0, 1179648, 22, 0, 1179650, 22, 0, 1179652, 22, 0, 1179653, 38, 0, 1179676, 38, 0, 1179678, 38, 0, 1179684, 22, 0, 1179686, 22, 0, 1179688, 22, 0, 1179690, 41, 0, 1179710, 38, 0, 1179712, 38, 0, 1179726, 22, 0, 1179730, 22, 0, 1179746, 22, 0, 1179748, 22, 0, 1179750, 22, 0, 1179752, 22, 0, 1179754, 22, 0, 1179756, 41, 0, 1179762, 38, 0, 1179764, 38, 0, 1179770, 38, 0, 1179772, 38, 0, 1179778, 22, 0, 1179780, 22, 0, 1179782, 22, 0, 1179784, 41, 0, 1245200, 38, 0, 1245244, 38, 0, 1245264, 22, 0, 1376254, 22, 0, 1310720, 22, 0, 1310722, 22, 0, 1310724, 22, 0, 1310725, 38, 0, 1310748, 38, 0, 1310750, 38, 0, 1310757, 41, 0, 1310758, 22, 0, 1310760, 22, 0, 1310782, 38, 0, 1310798, 38, 0, 1310802, 38, 0, 1310819, 41, 0, 1310820, 22, 0, 1310822, 22, 0, 1310824, 22, 0, 1310834, 38, 0, 1310836, 38, 0, 1310842, 38, 0, 1310844, 38, 0, 1310850, 38, 0, 1310851, 23, 0, 1310852, 38, 0, 1310853, 23, 0, 1310854, 38, 0, 1376272, 35, 0, 1376274, 37, 0, 1376316, 38, 0, 1376336, 38, 0, 1507326, 22, 0, 1441792, 22, 0, 1441794, 22, 0, 1441796, 22, 0, 1441797, 38, 0, 1441820, 38, 0, 1441822, 38, 0, 1441830, 22, 0, 1441832, 22, 0, 1441854, 38, 0, 1441870, 38, 0, 1441874, 38, 0, 1441886, 24, 0, 1441888, 24, 0, 1441890, 24, 0, 1441892, 22, 0, 1441894, 22, 0, 1441896, 22, 0, 1441906, 38, 0, 1441908, 38, 0, 1441914, 38, 0, 1441916, 38, 0, 1441923, 38, 0, 1441925, 38, 0, 1507344, 22, 0, 1507346, 22, 0, 1507388, 38, 0, 1507408, 38, 0, 1638398, 22, 0, 1572864, 22, 0, 1572866, 22, 0, 1572868, 22, 0, 1572902, 22, 0, 1572904, 22, 0, 1572926, 38, 0, 1572943, 40, 0, 1572946, 38, 0, 1572964, 22, 0, 1572966, 22, 0, 1572968, 22, 0, 1572978, 38, 0, 1572980, 38, 0, 1572986, 38, 0, 1572988, 38, 0, 1572996, 38, 0, 1572998, 38, 0, 1638416, 22, 0, 1638418, 22, 0, 1638460, 38, 0, 1638480, 38, 0, 1769470, 22, 0, 1703936, 22, 0, 1703938, 22, 0, 1703940, 22, 0, 1703974, 22, 0, 1703976, 22, 0, 1704018, 38, 0, 1704036, 22, 0, 1704038, 22, 0, 1704040, 22, 0, 1704050, 38, 0, 1704052, 38, 0, 1704058, 38, 0, 1704060, 38, 0, 1704067, 38, 0, 1704069, 38, 0, 1769532, 38, 0, 1769552, 38, 0, 1900542, 22, 0, 1835008, 22, 0, 1835010, 22, 0, 1835012, 22, 0, 1835046, 22, 0, 1835048, 22, 0, 1835090, 38, 0, 1835108, 22, 0, 1835110, 22, 0, 1835112, 22, 0, 1900604, 38, 0, 1900624, 38, 0, 2031614, 22, 0, 1966080, 22, 0, 1966082, 22, 0, 1966084, 22, 0, 1966118, 22, 0, 1966120, 22, 0, 1966162, 38, 0, 1966180, 22, 0, 1966182, 22, 0, 1966184, 22, 0, 2097190, 22, 0, 2097192, 22, 0, 2097252, 22, 0, 2097254, 22, 0, 2097256, 22, 0, 2228262, 22, 0, 2228264, 22, 0, 2228324, 22, 0, 2228326, 22, 0, 2228328, 22, 0, 2359334, 22, 0, 2359336, 22, 0, 2359396, 22, 0, 2359398, 22, 0, 2359400, 22, 0, 2490406, 22, 0, 2490408, 22, 0, 2490470, 22, 0, 2490472, 22, 0, 2621478, 22, 0, 2621480, 22, 0, 2621542, 22, 0, 2621544, 22, 0, 2752550, 22, 0, 2752552, 22, 0, 2752614, 22, 0, 2752616, 22, 0, 2883622, 22, 0, 2883624, 22, 0, 2883686, 22, 0, 2883688, 22, 0, 3014694, 22, 0, 3014696, 22, 0, 3014758, 22, 0, 3014760, 22, 0, 3145830, 22, 0, 3145832, 22, 0, 3276902, 22, 0, 3276904, 22, 0, 3407974, 22, 0, 3407976, 22, 0, 3539046, 22, 0, 3539048, 22, 0, 3670118, 22, 0, 3670120, 22, 0, 3801190, 22, 0, 3801192, 22, 0, 3932262, 22, 0, 3932264, 22, 0, 4063334, 22, 0, 4063336, 22, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="rain_effect" type="CPUParticles2D" parent="."]
position = Vector2( 2304, 984 )
z_index = 1
amount = 500
preprocess = 1.0
emission_shape = 2
emission_rect_extents = Vector2( 4000, 1 )
direction = Vector2( 0, -1 )
spread = 25.55
gravity = Vector2( 0, -1000 )
initial_velocity = 1000.0
initial_velocity_random = 0.5
scale_amount = 4.0
script = SubResource( 1 )

[node name="points" type="Node" parent="."]

[node name="start" type="Node2D" parent="points"]
position = Vector2( 96, 480 )

[node name="room_1" parent="." instance=ExtResource( 3 )]
z_index = 15
z_as_relative = false
palette_idx = 3

[node name="enemy" parent="room_1" instance=ExtResource( 14 )]
position = Vector2( 256, 256 )

[node name="enemy2" parent="room_1" instance=ExtResource( 14 )]
position = Vector2( 576, 512 )

[node name="enemy3" parent="room_1" instance=ExtResource( 14 )]
position = Vector2( 960, 160 )

[node name="hazard_tiles" parent="room_1" instance=ExtResource( 4 )]
tile_data = PoolIntArray( 196614, 3, 0, 196617, 3, 0, 262151, 1, 0 )

[node name="hazard_zone" parent="room_1" instance=ExtResource( 17 )]
position = Vector2( 0, 720 )
z_index = 16

[node name="respawn" type="Node2D" parent="room_1/hazard_zone"]
position = Vector2( 128, -240 )

[node name="room_2" parent="." instance=ExtResource( 3 )]
position = Vector2( 1280, 0 )
z_index = 15
z_as_relative = false
size = Vector2( 32, 15 )
palette_idx = 3

[node name="hazard_tiles" parent="room_2" instance=ExtResource( 4 )]
tile_data = PoolIntArray( 1310758, 1, 0, 1310762, 3, 0, 1376296, 1, 0 )

[node name="respawn" type="Node2D" parent="room_2/hazard_tiles"]
position = Vector2( 24, 120 )

[node name="hazard_zone" parent="room_2" instance=ExtResource( 17 )]
position = Vector2( 0, 960 )
size = Vector2( 32, 1 )

[node name="respawn" type="Node2D" parent="room_2/hazard_zone"]
position = Vector2( 96, -480 )

[node name="enemy" parent="room_2" instance=ExtResource( 14 )]
position = Vector2( 736, 640 )

[node name="enemy2" parent="room_2" instance=ExtResource( 14 )]
position = Vector2( 1312, 768 )

[node name="enemy3" parent="room_2" instance=ExtResource( 14 )]
position = Vector2( 768, 400 )

[node name="enemy4" parent="room_2" instance=ExtResource( 14 )]
position = Vector2( 1408, 192 )

[node name="enemy5" parent="room_2" instance=ExtResource( 14 )]
position = Vector2( 1344, 448 )

[node name="enemy6" parent="room_2" instance=ExtResource( 14 )]
position = Vector2( 1344, 448 )

[node name="room_3" parent="." instance=ExtResource( 3 )]
position = Vector2( 3328, -384 )
z_index = 15
z_as_relative = false
size = Vector2( 30, 21 )
palette_idx = 3

[node name="hazard_tiles" parent="room_3" instance=ExtResource( 4 )]
position = Vector2( 0, 1360 )
tile_data = PoolIntArray( -1048557, 1, 0 )

[node name="respawn" type="Node2D" parent="room_3/hazard_tiles"]
position = Vector2( 24, -120 )

[node name="hazard_zone" parent="room_3" instance=ExtResource( 17 )]
position = Vector2( 0, 1360 )
size = Vector2( 40, 1 )

[node name="respawn" type="Node2D" parent="room_3/hazard_zone"]
position = Vector2( 96, -480 )

[node name="enemy" parent="room_3" instance=ExtResource( 14 )]
position = Vector2( 256, 576 )

[node name="enemy2" parent="room_3" instance=ExtResource( 14 )]
position = Vector2( 640, 704 )

[node name="enemy3" parent="room_3" instance=ExtResource( 14 )]
position = Vector2( 896, 832 )

[node name="enemy4" parent="room_3" instance=ExtResource( 14 )]
position = Vector2( 640, 448 )

[node name="enemy5" parent="room_3" instance=ExtResource( 14 )]
position = Vector2( 1344, 704 )

[node name="background" type="Sprite" parent="."]
pause_mode = 2
modulate = Color( 0.5, 0.5, 0.5, 1 )
self_modulate = Color( 0.572549, 0.572549, 0.572549, 1 )
material = SubResource( 2 )
scale = Vector2( 2, 2 )
z_index = -10
texture = ExtResource( 15 )
centered = false
offset = Vector2( 0, -300 )
script = ExtResource( 19 )
__meta__ = {
"_edit_lock_": true
}
bg_texture = ExtResource( 15 )
