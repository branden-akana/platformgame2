[gd_scene load_steps=11 format=2]

[ext_resource path="res://scenes/levels/level_template.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/hazard_tiles.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/enemy.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/camera_zone.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/hazard_zone.tscn" type="PackedScene" id=5]
[ext_resource path="res://shaders/grayscale.gdshader" type="Shader" id=6]
[ext_resource path="res://src/background.gd" type="Script" id=7]
[ext_resource path="res://assets/bg.png" type="Texture" id=8]

[sub_resource type="GDScript" id=1]
script/source = "extends CPUParticles2D


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"

# Called when the node enters the scene tree for the first time.
func _ready():
    Game.connect(\"paused\", self, \"on_pause\")
    Game.connect(\"unpaused\", self, \"on_unpause\")
    
func on_pause():
    speed_scale = 0
    
func on_unpause():
    speed_scale = 1


# Called every frame. 'delta' is the elapsed time since the previous frame.
#func _process(delta):
#    pass
"

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 6 )

[node name="level" instance=ExtResource( 1 )]

[node name="start" parent="points" index="0"]
position = Vector2( -448, 32 )

[node name="rain_effect" type="CPUParticles2D" parent="." index="1"]
position = Vector2( 0, -448 )
z_index = 1
amount = 100
lifetime = 2.0
preprocess = 1.0
emission_shape = 2
emission_rect_extents = Vector2( 500, 1 )
direction = Vector2( 0, 1 )
spread = 25.55
gravity = Vector2( 0, 10 )
initial_velocity = 1000.0
initial_velocity_random = 0.5
scale_amount = 4.0
script = SubResource( 1 )

[node name="rain_effect2" type="CPUParticles2D" parent="." index="2"]
position = Vector2( 2560, 1440 )
rotation = 3.14073
z_index = 1
amount = 100
lifetime = 2.0
preprocess = 1.0
emission_shape = 2
emission_rect_extents = Vector2( 500, 1 )
direction = Vector2( 0, 1 )
spread = 5.0
gravity = Vector2( 0, 500 )
initial_velocity = 1000.0
initial_velocity_random = 0.5
scale_amount = 4.0
script = SubResource( 1 )

[node name="tilemap" parent="." index="3"]
modulate = Color( 1, 1, 1, 1 )
tile_data = PoolIntArray( -1900564, 22, 0, -1900562, 22, 0, -1900560, 22, 0, -1966066, 22, 0, -1966064, 22, 0, -1966062, 22, 0, -1769492, 22, 0, -1769490, 22, 0, -1769488, 22, 0, -1834994, 22, 0, -1834992, 22, 0, -1834990, 22, 0, -1638420, 22, 0, -1638418, 22, 0, -1638416, 22, 0, -1703922, 22, 0, -1703920, 22, 0, -1703918, 22, 0, -1507348, 22, 0, -1507346, 22, 0, -1507344, 22, 0, -1572850, 22, 0, -1572848, 22, 0, -1572846, 22, 0, -1376276, 22, 0, -1376274, 22, 0, -1376272, 22, 0, -1441778, 22, 0, -1441776, 22, 0, -1441774, 22, 0, -1245204, 22, 0, -1245202, 22, 0, -1245200, 22, 0, -1310706, 22, 0, -1310704, 22, 0, -1310702, 22, 0, -1114132, 22, 0, -1114130, 22, 0, -1114128, 22, 0, -1179634, 22, 0, -1179632, 22, 0, -1179630, 22, 0, -983060, 22, 0, -983058, 22, 0, -983056, 22, 0, -1048562, 22, 0, -1048560, 22, 0, -1048558, 22, 0, -1048516, 22, 0, -1048514, 22, 0, -1048512, 22, 0, -1048482, 22, 0, -1048480, 22, 0, -1048478, 22, 0, -851988, 22, 0, -851986, 22, 0, -851984, 22, 0, -917490, 22, 0, -917488, 22, 0, -917486, 22, 0, -917444, 22, 0, -917442, 22, 0, -917440, 22, 0, -917410, 22, 0, -917408, 22, 0, -917406, 22, 0, -720916, 22, 0, -720914, 22, 0, -720912, 22, 0, -786418, 22, 0, -786416, 22, 0, -786414, 22, 0, -786372, 22, 0, -786370, 22, 0, -786368, 22, 0, -786338, 22, 0, -786336, 22, 0, -786334, 22, 0, -589844, 22, 0, -589842, 22, 0, -589840, 22, 0, -655346, 23, 0, -655344, 22, 0, -655342, 22, 0, -655300, 22, 0, -655298, 22, 0, -655296, 22, 0, -655266, 22, 0, -655264, 22, 0, -655262, 22, 0, -458772, 22, 0, -458770, 22, 0, -458768, 22, 0, -524272, 22, 0, -524270, 22, 0, -524228, 22, 0, -524226, 22, 0, -524224, 22, 0, -524194, 22, 0, -524192, 22, 0, -524190, 22, 0, -327700, 22, 0, -327698, 22, 0, -327696, 41, 0, -393200, 22, 0, -393198, 22, 0, -393156, 22, 0, -393154, 22, 0, -393152, 22, 0, -393122, 22, 0, -393120, 22, 0, -393118, 22, 0, -196628, 22, 0, -196626, 22, 0, -262127, 41, 0, -262126, 30, 0, -262124, 22, 0, -262122, 33, 0, -262120, 33, 0, -262118, 33, 0, -262116, 33, 0, -262114, 33, 0, -262112, 33, 0, -262110, 33, 0, -262108, 33, 0, -262106, 33, 0, -262104, 33, 0, -262102, 33, 0, -262100, 33, 0, -262098, 33, 0, -262096, 33, 0, -262094, 33, 0, -262092, 33, 0, -262090, 33, 0, -262088, 33, 0, -262086, 22, 0, -262084, 22, 0, -262082, 22, 0, -262080, 22, 0, -262050, 22, 0, -262048, 22, 0, -262046, 22, 0, -65556, 22, 0, -65554, 22, 0, -131054, 30, 0, -131052, 31, 0, -131036, 38, 0, -131034, 38, 0, -131032, 38, 0, -131014, 30, 0, -131012, 22, 0, -131010, 22, 0, -131008, 22, 0, -130976, 22, 0, -130974, 22, 0, 65516, 22, 0, 65518, 22, 0, 65532, 24, 0, 65534, 35, 0, 0, 37, 0, 2, 24, 0, 18, 32, 0, 20, 34, 0, 37, 38, 0, 39, 38, 0, 58, 30, 0, 60, 22, 0, 62, 22, 0, 64, 22, 0, 96, 22, 0, 98, 22, 0, 196588, 22, 0, 196590, 22, 0, 196592, 36, 0, 196594, 37, 0, 196596, 24, 0, 196606, 38, 0, 196607, 23, 0, 131072, 38, 0, 131109, 38, 0, 131111, 38, 0, 131130, 30, 0, 131132, 22, 0, 131134, 22, 0, 131136, 22, 0, 131170, 22, 0, 327660, 22, 0, 327662, 22, 0, 327664, 22, 0, 327666, 23, 0, 327679, 40, 0, 262144, 38, 0, 262182, 38, 0, 262202, 30, 0, 262204, 22, 0, 262206, 22, 0, 262242, 22, 0, 393202, 38, 0, 458732, 22, 0, 458734, 22, 0, 458736, 22, 0, 458744, 38, 0, 393216, 38, 0, 393228, 24, 0, 393230, 35, 0, 393232, 29, 0, 393234, 29, 0, 393236, 29, 0, 393238, 29, 0, 393240, 37, 0, 393254, 38, 0, 393274, 30, 0, 393276, 22, 0, 393278, 22, 0, 393314, 22, 0, 524274, 38, 0, 458788, 38, 0, 458792, 38, 0, 589804, 22, 0, 589806, 22, 0, 589808, 22, 0, 589812, 38, 0, 589816, 38, 0, 524288, 38, 0, 524302, 38, 0, 524303, 41, 0, 524304, 22, 0, 524306, 22, 0, 524308, 31, 0, 524310, 23, 0, 524326, 38, 0, 524342, 22, 0, 524344, 22, 0, 524346, 30, 0, 524348, 22, 0, 524350, 22, 0, 524386, 22, 0, 655346, 38, 0, 655350, 38, 0, 655358, 24, 0, 589824, 24, 0, 589826, 24, 0, 589860, 38, 0, 589864, 38, 0, 720876, 22, 0, 720878, 22, 0, 720880, 22, 0, 720882, 36, 0, 720884, 36, 0, 720886, 36, 0, 720888, 37, 0, 655360, 38, 0, 655374, 38, 0, 655376, 22, 0, 655378, 22, 0, 655380, 31, 0, 655394, 24, 0, 655396, 35, 0, 655398, 36, 0, 655400, 37, 0, 655402, 24, 0, 655414, 22, 0, 655416, 22, 0, 655418, 30, 0, 655420, 22, 0, 655422, 22, 0, 655452, 24, 0, 655454, 24, 0, 655456, 35, 0, 655458, 22, 0, 786431, 40, 0, 720974, 22, 0, 720976, 22, 0, 851948, 22, 0, 851950, 22, 0, 851952, 22, 0, 851954, 22, 0, 851956, 22, 0, 851958, 23, 0, 851967, 38, 0, 786446, 38, 0, 786448, 22, 0, 786450, 22, 0, 786452, 31, 0, 786454, 22, 0, 786468, 23, 0, 786470, 23, 0, 786471, 38, 0, 786488, 23, 0, 786490, 30, 0, 786492, 22, 0, 786494, 38, 0, 786529, 41, 0, 786530, 22, 0, 917494, 38, 0, 852046, 22, 0, 852048, 22, 0, 983020, 22, 0, 983022, 22, 0, 983024, 22, 0, 983026, 22, 0, 983028, 22, 0, 983039, 38, 0, 917519, 38, 0, 917520, 22, 0, 917522, 22, 0, 917524, 31, 0, 917526, 22, 0, 917543, 38, 0, 917562, 30, 0, 917564, 22, 0, 917566, 38, 0, 917583, 38, 0, 917602, 22, 0, 1048566, 38, 0, 983119, 23, 0, 1114092, 22, 0, 1114094, 22, 0, 1114096, 22, 0, 1114098, 22, 0, 1114100, 22, 0, 1114111, 38, 0, 1048591, 38, 0, 1048592, 22, 0, 1048594, 22, 0, 1048596, 31, 0, 1048615, 38, 0, 1048634, 30, 0, 1048636, 22, 0, 1048638, 38, 0, 1048655, 38, 0, 1048668, 35, 0, 1048670, 36, 0, 1048672, 36, 0, 1048674, 22, 0, 1179638, 38, 0, 1114168, 23, 0, 1179668, 31, 0, 1179686, 35, 0, 1179688, 29, 0, 1179690, 37, 0, 1179700, 22, 0, 1179702, 22, 0, 1179704, 22, 0, 1179706, 30, 0, 1179708, 22, 0, 1179710, 36, 0, 1179712, 36, 0, 1179714, 37, 0, 1179725, 38, 0, 1179727, 38, 0, 1179741, 41, 0, 1179742, 22, 0, 1179744, 22, 0, 1179746, 22, 0, 1310740, 31, 0, 1310760, 23, 0, 1310761, 38, 0, 1310762, 23, 0, 1310772, 22, 0, 1310774, 22, 0, 1310776, 22, 0, 1310778, 30, 0, 1310780, 22, 0, 1310782, 22, 0, 1310784, 22, 0, 1310797, 38, 0, 1310799, 38, 0, 1310816, 23, 0, 1310818, 22, 0, 1376332, 40, 0, 1441812, 31, 0, 1441814, 22, 0, 1441816, 22, 0, 1441833, 38, 0, 1441848, 23, 0, 1441850, 30, 0, 1441852, 22, 0, 1441854, 23, 0, 1441866, 35, 0, 1441868, 36, 0, 1441870, 36, 0, 1441872, 37, 0, 1441890, 22, 0, 1572884, 31, 0, 1572886, 22, 0, 1572888, 22, 0, 1572905, 38, 0, 1572922, 30, 0, 1572924, 22, 0, 1572941, 40, 0, 1572942, 23, 0, 1572944, 22, 0, 1572962, 22, 0, 1638439, 24, 0, 1638441, 24, 0, 1638443, 24, 0, 1638478, 38, 0, 1703956, 31, 0, 1703958, 23, 0, 1703976, 38, 0, 1703994, 32, 0, 1703996, 34, 0, 1704016, 22, 0, 1704018, 36, 0, 1704020, 37, 0, 1704028, 24, 0, 1704030, 24, 0, 1704032, 35, 0, 1704034, 22, 0, 1769550, 38, 0, 1835028, 31, 0, 1835048, 38, 0, 1835088, 22, 0, 1835090, 22, 0, 1835092, 23, 0, 1835104, 22, 0, 1835106, 22, 0, 1900621, 38, 0, 1900623, 38, 0, 1966100, 31, 0, 1966114, 27, 0, 1966116, 29, 0, 1966118, 29, 0, 1966120, 29, 0, 1966122, 28, 0, 1966156, 35, 0, 1966158, 36, 0, 1966160, 22, 0, 1966162, 23, 0, 1966176, 22, 0, 1966178, 22, 0, 2097172, 31, 0, 2097186, 30, 0, 2097188, 23, 0, 2097190, 23, 0, 2097192, 23, 0, 2097194, 31, 0, 2097204, 35, 0, 2097206, 29, 0, 2097208, 29, 0, 2097210, 29, 0, 2097212, 36, 0, 2097214, 36, 0, 2097216, 37, 0, 2097230, 38, 0, 2097232, 38, 0, 2097244, 24, 0, 2097246, 24, 0, 2097248, 22, 0, 2097250, 22, 0, 2228244, 31, 0, 2228246, 29, 0, 2228248, 29, 0, 2228250, 29, 0, 2228252, 29, 0, 2228254, 29, 0, 2228256, 29, 0, 2228258, 29, 0, 2228260, 29, 0, 2228262, 29, 0, 2228264, 29, 0, 2228266, 29, 0, 2228268, 29, 0, 2228270, 29, 0, 2228272, 29, 0, 2228274, 29, 0, 2228276, 22, 0, 2228278, 22, 0, 2228280, 22, 0, 2228282, 22, 0, 2228284, 22, 0, 2228286, 23, 0, 2228302, 38, 0, 2228304, 38, 0, 2228321, 41, 0, 2228322, 22, 0, 2359356, 22, 0, 2359374, 38, 0, 2359376, 38, 0, 2359394, 22, 0, 2490428, 22, 0, 2490444, 35, 0, 2490446, 36, 0, 2490448, 36, 0, 2490450, 37, 0, 2490456, 35, 0, 2490458, 36, 0, 2490460, 36, 0, 2490462, 36, 0, 2490464, 36, 0, 2490466, 22, 0, 2621500, 22, 0, 2621516, 23, 0, 2621518, 22, 0, 2621520, 22, 0, 2621522, 22, 0, 2621529, 41, 0, 2621530, 22, 0, 2621532, 22, 0, 2621534, 22, 0, 2621536, 22, 0, 2621538, 22, 0, 2752572, 22, 0, 2752590, 22, 0, 2752592, 22, 0, 2752594, 41, 0, 2752602, 22, 0, 2752604, 22, 0, 2752606, 22, 0, 2752608, 22, 0, 2752610, 22, 0, 2883662, 22, 0, 2883664, 22, 0 )

[node name="room_1" parent="." index="4"]
position = Vector2( -640, -448 )
region_size = Vector2( 20, 16 )
palette_idx = 4

[node name="enemy" parent="room_1" index="1" instance=ExtResource( 3 )]
position = Vector2( 0, -64 )
max_health = 2

[node name="enemy2" parent="room_1" index="2" instance=ExtResource( 3 )]
position = Vector2( -288, 256 )

[node name="enemy3" parent="room_1" index="3" instance=ExtResource( 3 )]
position = Vector2( 448, 128 )

[node name="hazard_tiles" parent="room_1" index="4" instance=ExtResource( 2 )]
position = Vector2( 640, 448 )
tile_data = PoolIntArray( 196606, 3, 0, 131073, 3, 0, 262143, 1, 0 )

[node name="hazard_zone" parent="room_1" index="5" instance=ExtResource( 5 )]
position = Vector2( 0, 1024 )

[node name="room_2" parent="." index="5" instance=ExtResource( 4 )]
position = Vector2( 640, -128 )
region_size = Vector2( 20, 20 )
palette_idx = 1

[node name="enemy" parent="room_2" index="1" instance=ExtResource( 3 )]
position = Vector2( 1664, 320 )

[node name="enemy2" parent="room_2" index="2" instance=ExtResource( 3 )]
position = Vector2( 896, 768 )

[node name="enemy3" parent="room_2" index="3" instance=ExtResource( 3 )]
position = Vector2( 1280, 512 )

[node name="enemy4" parent="room_2" index="4" instance=ExtResource( 3 )]
position = Vector2( 1600, 640 )

[node name="enemy5" parent="room_2" index="5" instance=ExtResource( 3 )]
position = Vector2( 1280, 896 )

[node name="enemy6" parent="room_2" index="6" instance=ExtResource( 3 )]
position = Vector2( 832, 448 )

[node name="hazard_tiles" parent="room_2" index="7" instance=ExtResource( 2 )]
tile_data = PoolIntArray( 720930, 0, 0, 720932, 0, 0, 983042, 0, 0, 1310722, 1, 0, 1376288, 0, 0, 1376290, 0, 0, 1638402, 0, 0, 1638404, 0, 0, 2424834, 0, 0, 2424836, 0, 0, 2424838, 0, 0, 2424840, 0, 0, 2424842, 0, 0, 2424844, 0, 0, 2424856, 0, 0, 2424858, 0, 0, 2424860, 0, 0, 2424862, 0, 0 )

[node name="respawn" type="Node2D" parent="room_2/hazard_tiles" index="0"]
position = Vector2( 24, 72 )

[node name="room_3" parent="." index="6" instance=ExtResource( 4 )]
position = Vector2( 1920, -128 )
region_size = Vector2( 20, 24 )
palette_idx = 4

[node name="hazard_tiles" parent="room_3" index="1" instance=ExtResource( 2 )]
tile_data = PoolIntArray( 917522, 0, 0, 917524, 0, 0, 983057, 5, 0, 983062, 4, 0, 1114129, 5, 0, 1114134, 4, 0 )

[node name="respawn" type="Node2D" parent="room_3/hazard_tiles" index="0"]
position = Vector2( 24, 280 )
scale = Vector2( 0.25, 0.25 )

[node name="death_zone" parent="room_3" index="2" instance=ExtResource( 5 )]
position = Vector2( 0, 1536 )

[node name="respawn" type="Node2D" parent="room_3/death_zone" index="1"]
position = Vector2( 96, -416 )

[node name="enemy" parent="room_3" index="3" instance=ExtResource( 3 )]
position = Vector2( 2496, 896 )

[node name="enemy2" parent="room_3" index="4" instance=ExtResource( 3 )]
position = Vector2( 2560, 1088 )

[node name="enemy3" parent="room_3" index="5" instance=ExtResource( 3 )]
position = Vector2( 2528, 640 )

[node name="enemy4" parent="room_3" index="6" instance=ExtResource( 3 )]
position = Vector2( 2048, 512 )

[node name="enemy5" parent="room_3" index="7" instance=ExtResource( 3 )]
position = Vector2( 3008, 448 )

[node name="enemy6" parent="room_3" index="8" instance=ExtResource( 3 )]
position = Vector2( 2560, 256 )
max_health = 2

[node name="enemy7" parent="room_3" index="9" instance=ExtResource( 3 )]
position = Vector2( 3008, 1152 )

[node name="background" type="Sprite" parent="." index="7"]
pause_mode = 2
modulate = Color( 0.792157, 0.796078, 0.803922, 1 )
self_modulate = Color( 0.505882, 0.482353, 0.498039, 1 )
material = SubResource( 2 )
position = Vector2( -1536, 64 )
scale = Vector2( 4, 4 )
z_index = -10
texture = ExtResource( 8 )
centered = false
offset = Vector2( 0, -200 )
flip_v = true
script = ExtResource( 7 )
__meta__ = {
"_edit_lock_": true
}
bg_texture = ExtResource( 8 )

[node name="color_rect" type="ColorRect" parent="background" index="0"]
visible = false
show_behind_parent = true
margin_left = -2155.08
margin_top = -1174.2
margin_right = 7844.92
margin_bottom = 8825.8
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}
