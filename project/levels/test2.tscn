[gd_scene load_steps=12 format=2]

[ext_resource path="res://effects/display_manager.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/bgs/clouds_indexed.png" type="Texture" id=2]
[ext_resource path="res://entities/light.tscn" type="PackedScene" id=3]
[ext_resource path="res://entities/room.tscn" type="PackedScene" id=4]
[ext_resource path="res://levels/template.tscn" type="PackedScene" id=5]
[ext_resource path="res://ui/debug/editor_only.tscn" type="PackedScene" id=6]
[ext_resource path="res://entities/enemy/enemy.tscn" type="PackedScene" id=7]
[ext_resource path="res://shaders/retro_fg3.tres" type="Material" id=8]
[ext_resource path="res://entities/hazard_zone.tscn" type="PackedScene" id=10]
[ext_resource path="res://assets/circle.png" type="Texture" id=11]

[sub_resource type="GDScript" id=1]
script/source = "extends Sprite

onready var origin = position

func _process(delta):
    position = origin + Game.get_camera().focus * 0.9
"

[node name="level" instance=ExtResource( 5 )]

[node name="==EDITOR ONLY==" parent="." index="0" instance=ExtResource( 6 )]

[node name="post_process" parent="==EDITOR ONLY==" index="0" instance=ExtResource( 1 )]

[node name="rect" parent="==EDITOR ONLY==/post_process/2_retrorizer" index="0"]
margin_left = -4208.0
margin_top = -3864.0
margin_right = 3984.0
margin_bottom = 4328.0

[node name="start" parent="points" index="0"]
position = Vector2( 192, 480 )

[node name="blockouts" parent="tilemaps" index="0"]
z_index = 10
tile_data = PoolIntArray( -1, 14, 0, -65536, 14, 1, -65535, 14, 1, -65534, 14, 2, -65519, 14, 0, -65518, 14, 1, -65517, 14, 1, -65516, 14, 2, 65535, 14, 65536, 0, 14, 65537, 1, 14, 65537, 2, 14, 65538, 17, 14, 131072, 18, 14, 65540, 19, 14, 65537, 20, 14, 65538, 131071, 14, 65536, 65536, 14, 65537, 65537, 14, 65539, 65538, 14, 131074, 65554, 14, 65536, 65555, 14, 65537, 65556, 14, 65538, 196607, 14, 65536, 131072, 14, 65537, 131073, 14, 65538, 131090, 14, 131072, 131091, 14, 65540, 131092, 14, 65538, 262143, 14, 65536, 196608, 14, 65537, 196609, 14, 65538, 196627, 14, 65536, 196628, 14, 131075, 196629, 14, 1, 196630, 14, 1, 196631, 14, 1, 196632, 14, 1, 196633, 14, 2, 196635, 14, 0, 196636, 14, 1, 196637, 14, 1, 196638, 14, 1, 196639, 14, 1, 196640, 14, 2, 196642, 14, 0, 196643, 14, 1, 196644, 14, 1, 196645, 14, 1, 196646, 14, 1, 196647, 14, 1, 196648, 14, 1, 196649, 14, 2, 196666, 14, 0, 196667, 14, 1, 196668, 14, 2, 327679, 14, 65536, 262144, 14, 65537, 262145, 14, 65538, 262163, 14, 65536, 262164, 14, 65539, 262165, 14, 131073, 262166, 14, 131073, 262167, 14, 131073, 262168, 14, 131073, 262169, 14, 131074, 262171, 14, 131072, 262172, 14, 131073, 262173, 14, 131073, 262174, 14, 131073, 262175, 14, 131073, 262176, 14, 131074, 262178, 14, 131072, 262179, 14, 131073, 262180, 14, 131073, 262181, 14, 131073, 262182, 14, 131073, 262183, 14, 65540, 262184, 14, 65537, 262185, 14, 65538, 262202, 14, 65536, 262203, 14, 65537, 262204, 14, 65538, 393215, 14, 65536, 327680, 14, 65537, 327681, 14, 65538, 327699, 14, 65536, 327700, 14, 65538, 327719, 14, 65536, 327720, 14, 65537, 327721, 14, 65538, 327738, 14, 65536, 327739, 14, 65537, 327740, 14, 65538, 458751, 14, 65536, 393216, 14, 65537, 393217, 14, 65538, 393235, 14, 131072, 393236, 14, 131074, 393255, 14, 65536, 393256, 14, 65537, 393257, 14, 65538, 393274, 14, 65536, 393275, 14, 65537, 393276, 14, 65538, 524287, 14, 65536, 458752, 14, 65537, 458753, 14, 65538, 458761, 14, 0, 458762, 14, 2, 458791, 14, 65536, 458792, 14, 65537, 458793, 14, 65538, 458810, 14, 131072, 458811, 14, 65540, 458812, 14, 65538, 589823, 14, 65536, 524288, 14, 65537, 524289, 14, 131075, 524290, 14, 1, 524291, 14, 2, 524297, 14, 131072, 524298, 14, 131074, 524327, 14, 65536, 524328, 14, 65537, 524329, 14, 65538, 524347, 14, 65536, 524348, 14, 65538, 655359, 14, 65536, 589824, 14, 65537, 589825, 14, 65537, 589826, 14, 65539, 589827, 14, 131074, 589863, 14, 65536, 589864, 14, 65537, 589865, 14, 65538, 589883, 14, 65536, 589884, 14, 65538, 720895, 14, 65536, 655360, 14, 65537, 655361, 14, 65537, 655362, 14, 65538, 655377, 14, 0, 655378, 14, 1, 655379, 14, 1, 655380, 14, 1, 655381, 14, 1, 655382, 14, 2, 655399, 14, 65536, 655400, 14, 65537, 655401, 14, 65538, 655419, 14, 65536, 655420, 14, 65538, 786431, 14, 65536, 720896, 14, 65537, 720897, 14, 65537, 720898, 14, 65538, 720913, 14, 65536, 720914, 14, 65537, 720915, 14, 65537, 720916, 14, 65539, 720917, 14, 131073, 720918, 14, 131074, 720933, 14, 0, 720934, 14, 1, 720935, 14, 131076, 720936, 14, 65537, 720937, 14, 65538, 720955, 14, 65536, 720956, 14, 65538, 851967, 14, 65536, 786432, 14, 65537, 786433, 14, 65537, 786434, 14, 131075, 786435, 14, 1, 786436, 14, 1, 786437, 14, 1, 786438, 14, 2, 786449, 14, 65536, 786450, 14, 65537, 786451, 14, 65537, 786452, 14, 65538, 786460, 14, 3, 786461, 14, 4, 786462, 14, 5, 786469, 14, 131072, 786470, 14, 131073, 786471, 14, 65540, 786472, 14, 65539, 786473, 14, 131074, 786490, 14, 0, 786491, 14, 131076, 786492, 14, 65538, 917503, 14, 65536, 851968, 14, 65537, 851969, 14, 65537, 851970, 14, 65537, 851971, 14, 65537, 851972, 14, 65537, 851973, 14, 65539, 851974, 14, 131074, 851985, 14, 65536, 851986, 14, 65537, 851987, 14, 65537, 851988, 14, 65538, 852007, 14, 65536, 852008, 14, 65538, 852017, 14, 0, 852018, 14, 2, 852026, 14, 65536, 852027, 14, 65537, 852028, 14, 65538, 983039, 14, 65536, 917504, 14, 65537, 917505, 14, 65537, 917506, 14, 65537, 917507, 14, 65537, 917508, 14, 65537, 917509, 14, 65538, 917521, 14, 65536, 917522, 14, 65537, 917523, 14, 65537, 917524, 14, 131075, 917525, 14, 2, 917543, 14, 65536, 917544, 14, 65538, 917553, 14, 131072, 917554, 14, 131074, 917562, 14, 65536, 917563, 14, 65537, 917564, 14, 65538, 1048575, 14, 65536, 983040, 14, 65537, 983041, 14, 65537, 983042, 14, 65537, 983043, 14, 65537, 983044, 14, 65537, 983045, 14, 65538, 983057, 14, 65536, 983058, 14, 65537, 983059, 14, 65537, 983060, 14, 65539, 983061, 14, 131074, 983079, 14, 65536, 983080, 14, 65538, 983096, 14, 0, 983097, 14, 1, 983098, 14, 131076, 983099, 14, 65537, 983100, 14, 65538, 1114111, 14, 131072, 1048576, 14, 131073, 1048577, 14, 131073, 1048578, 14, 131073, 1048579, 14, 131073, 1048580, 14, 131073, 1048581, 14, 131074, 1048593, 14, 131072, 1048594, 14, 131073, 1048595, 14, 65540, 1048596, 14, 65538, 1048605, 14, 0, 1048606, 14, 1, 1048607, 14, 2, 1048612, 14, 0, 1048613, 14, 1, 1048614, 14, 1, 1048615, 14, 131076, 1048616, 14, 131075, 1048617, 14, 1, 1048618, 14, 1, 1048619, 14, 2, 1048632, 14, 131072, 1048633, 14, 131073, 1048634, 14, 65540, 1048635, 14, 65537, 1048636, 14, 65538, 1114131, 14, 65536, 1114132, 14, 65538, 1114141, 14, 131072, 1114142, 14, 131073, 1114143, 14, 131074, 1114148, 14, 131072, 1114149, 14, 131073, 1114150, 14, 131073, 1114151, 14, 65540, 1114152, 14, 65539, 1114153, 14, 131073, 1114154, 14, 131073, 1114155, 14, 131074, 1114170, 14, 131072, 1114171, 14, 65540, 1114172, 14, 65538, 1179667, 14, 65536, 1179668, 14, 131075, 1179669, 14, 1, 1179670, 14, 2, 1179687, 14, 65536, 1179688, 14, 65538, 1179707, 14, 65536, 1179708, 14, 65538, 1245203, 14, 65536, 1245204, 14, 65539, 1245205, 14, 131073, 1245206, 14, 131074, 1245223, 14, 131072, 1245224, 14, 131074, 1245232, 14, 3, 1245233, 14, 4, 1245234, 14, 65542, 1245243, 14, 65536, 1245244, 14, 65538, 1310739, 14, 65536, 1310740, 14, 65538, 1310770, 14, 131077, 1310771, 14, 4, 1310772, 14, 4, 1310773, 14, 5, 1310778, 14, 0, 1310779, 14, 131076, 1310780, 14, 65538, 1376275, 14, 65536, 1376276, 14, 65538, 1376314, 14, 65536, 1376315, 14, 65537, 1376316, 14, 65538, 1441811, 14, 65536, 1441812, 14, 65538, 1441819, 14, 0, 1441820, 14, 1, 1441821, 14, 1, 1441822, 14, 1, 1441823, 14, 2, 1441840, 14, 3, 1441841, 14, 4, 1441842, 14, 4, 1441843, 14, 5, 1441850, 14, 65536, 1441851, 14, 65537, 1441852, 14, 65538, 1507347, 14, 65536, 1507348, 14, 65538, 1507355, 14, 65536, 1507356, 14, 65537, 1507357, 14, 65537, 1507358, 14, 65537, 1507359, 14, 65538, 1507364, 14, 0, 1507365, 14, 1, 1507366, 14, 1, 1507367, 14, 1, 1507368, 14, 1, 1507369, 14, 1, 1507370, 14, 2, 1507386, 14, 131072, 1507387, 14, 65540, 1507388, 14, 65538, 1572883, 14, 65536, 1572884, 14, 131075, 1572885, 14, 1, 1572886, 14, 1, 1572887, 14, 1, 1572888, 14, 1, 1572889, 14, 1, 1572890, 14, 1, 1572891, 14, 131076, 1572892, 14, 65537, 1572893, 14, 65537, 1572894, 14, 65537, 1572895, 14, 131075, 1572896, 14, 1, 1572897, 14, 1, 1572898, 14, 1, 1572899, 14, 1, 1572900, 14, 131076, 1572901, 14, 65537, 1572902, 14, 65537, 1572903, 14, 65537, 1572904, 14, 65537, 1572905, 14, 65539, 1572906, 14, 131074, 1572923, 14, 65536, 1572924, 14, 65538, 1638419, 14, 131072, 1638420, 14, 131073, 1638421, 14, 131073, 1638422, 14, 131073, 1638423, 14, 131073, 1638424, 14, 131073, 1638425, 14, 131073, 1638426, 14, 131073, 1638427, 14, 131073, 1638428, 14, 131073, 1638429, 14, 131073, 1638430, 14, 131073, 1638431, 14, 131073, 1638432, 14, 131073, 1638433, 14, 131073, 1638434, 14, 131073, 1638435, 14, 131073, 1638436, 14, 131073, 1638437, 14, 131073, 1638438, 14, 65540, 1638439, 14, 65537, 1638440, 14, 65537, 1638441, 14, 65538, 1638459, 14, 65536, 1638460, 14, 65538, 1703974, 14, 65536, 1703975, 14, 65537, 1703976, 14, 65537, 1703977, 14, 65538, 1703983, 14, 0, 1703984, 14, 1, 1703985, 14, 1, 1703986, 14, 2, 1703990, 14, 0, 1703991, 14, 1, 1703992, 14, 1, 1703993, 14, 1, 1703994, 14, 1, 1703995, 14, 131076, 1703996, 14, 65538, 1769510, 14, 65536, 1769511, 14, 65537, 1769512, 14, 65537, 1769513, 14, 65538, 1769519, 14, 131072, 1769520, 14, 65540, 1769521, 14, 65539, 1769522, 14, 131074, 1769526, 14, 131072, 1769527, 14, 65540, 1769528, 14, 65537, 1769529, 14, 65537, 1769530, 14, 65537, 1769531, 14, 65537, 1769532, 14, 65538, 1835046, 14, 65536, 1835047, 14, 65537, 1835048, 14, 65537, 1835049, 14, 65538, 1835056, 14, 65536, 1835057, 14, 65538, 1835063, 14, 65536, 1835064, 14, 65537, 1835065, 14, 65537, 1835066, 14, 65537, 1835067, 14, 65537, 1835068, 14, 65538, 1900582, 14, 65536, 1900583, 14, 65537, 1900584, 14, 65537, 1900585, 14, 65538, 1900592, 14, 65536, 1900593, 14, 65538, 1900599, 14, 65536, 1900600, 14, 65537, 1900601, 14, 65537, 1900602, 14, 65537, 1900603, 14, 65537, 1900604, 14, 65538, 1966118, 14, 131072, 1966119, 14, 131073, 1966120, 14, 131073, 1966121, 14, 131074, 1966128, 14, 65536, 1966129, 14, 65538, 1966135, 14, 65536, 1966136, 14, 65537, 1966137, 14, 65537, 1966138, 14, 65537, 1966139, 14, 65537, 1966140, 14, 65538, 2031664, 14, 131072, 2031665, 14, 131074, 2031671, 14, 131072, 2031672, 14, 131073, 2031673, 14, 131073, 2031674, 14, 131073, 2031675, 14, 131073, 2031676, 14, 131074 )

[node name="hazards" parent="tilemaps" index="1"]
tile_data = PoolIntArray( 1376330, 0, 0, 1376332, 0, 0, 1638498, 0, 0, 1638500, 0, 0, 1704033, 5, 0, 1704038, 4, 0, 1769514, 0, 0, 1835105, 5, 0, 1835110, 4, 0, 2031688, 0, 0, 2031690, 0, 0, 2031692, 0, 0, 2293802, 0, 0, 2293804, 0, 0, 3080234, 0, 0, 3080236, 0, 0, 3080238, 0, 0, 3080240, 0, 0, 3080242, 0, 0, 3080244, 0, 0, 3080256, 0, 0, 3080258, 0, 0, 3080260, 0, 0, 3080262, 0, 0 )

[node name="details" parent="tilemaps" index="2"]
tile_data = PoolIntArray( 196604, 22, 0, 196606, 22, 0, 131072, 22, 0, 131074, 22, 0, 327678, 22, 0, 262144, 22, 0, 393254, 51, 0, 524326, 51, 0, 655398, 51, 0, 655428, 54, 0, 917520, 24, 0, 917526, 24, 0, 1048584, 24, 0, 1048594, 54, 0, 1048595, 52, 0, 1048596, 54, 0, 1310752, 24, 0, 1441827, 53, 0, 1441830, 51, 0, 1507346, 24, 0, 1507348, 24, 0, 1507350, 24, 0, 1572902, 51, 0, 1572919, 46, 0, 1572920, 54, 0, 1572926, 46, 0, 1572976, 24, 0, 1572978, 24, 0, 1703974, 51, 0, 1835046, 51, 0, 1966118, 51, 0, 2621499, 24, 0, 2621501, 24, 0, 2621503, 24, 0, 2621552, 24, 0, 2621554, 24, 0, 2752554, 54, 0, 3014768, 24, 0, 3014770, 24, 0 )

[node name="room_1" parent="rooms" index="0"]
size = Vector2( 20, 16 )
palette_idx = 4

[node name="hazard_zone" parent="rooms/room_1" index="1"]
position = Vector2( 0, 1024 )

[node name="respawn" parent="rooms/room_1/hazard_zone" index="1"]
position = Vector2( 192, -544 )

[node name="light_2d" parent="rooms/room_1" index="2"]
position = Vector2( 640, -576 )
texture_scale = 2.0
shadow_filter = 1
shadow_filter_smooth = 9.4

[node name="polygon_2d" type="Polygon2D" parent="rooms/room_1" index="3"]
visible = false
position = Vector2( 56, 168 )
scale = Vector2( 20, 20 )
z_index = 9
z_as_relative = false
color = Color( 0, 0, 0, 0.423529 )
polygon = PoolVector2Array( 0, 0, 64, 0, 64, 64, 0, 64 )

[node name="enemy" parent="rooms/room_1" index="4" instance=ExtResource( 7 )]
material = ExtResource( 8 )
position = Vector2( 640, 384 )
max_health = 2

[node name="enemy_2" parent="rooms/room_1" index="5" instance=ExtResource( 7 )]
position = Vector2( 1088, 576 )

[node name="enemy_3" parent="rooms/room_1" index="6" instance=ExtResource( 7 )]
position = Vector2( 352, 704 )

[node name="particles_2d" type="CPUParticles2D" parent="rooms/room_1" index="7"]
position = Vector2( 640, 0 )
amount = 100
texture = ExtResource( 11 )
emission_shape = 2
emission_rect_extents = Vector2( 640, 100 )
direction = Vector2( 0, 1 )
spread = 0.0
initial_velocity = 2000.0
initial_velocity_random = 0.5
scale_amount = 0.01

[node name="room" parent="rooms" index="1" instance=ExtResource( 4 )]
position = Vector2( 1280, 256 )
size = Vector2( 20, 21 )

[node name="enemy_2" parent="rooms/room" index="1" instance=ExtResource( 7 )]
position = Vector2( 192, 704 )

[node name="enemy" parent="rooms/room" index="2" instance=ExtResource( 7 )]
position = Vector2( 960, 840 )

[node name="enemy_3" parent="rooms/room" index="3" instance=ExtResource( 7 )]
position = Vector2( 608, 704 )

[node name="enemy_4" parent="rooms/room" index="4" instance=ExtResource( 7 )]
position = Vector2( 256, 960 )

[node name="enemy_5" parent="rooms/room" index="5" instance=ExtResource( 7 )]
position = Vector2( 640, 1088 )

[node name="light_2d" parent="rooms/room" index="6" instance=ExtResource( 3 )]
position = Vector2( 416, -32 )
shadow_filter = 1
shadow_filter_smooth = 64.0

[node name="light_2d_2" parent="rooms/room" index="7" instance=ExtResource( 3 )]
position = Vector2( 864, -32 )
shadow_filter = 1
shadow_filter_smooth = 64.0

[node name="enemy_6" parent="rooms/room" index="8" instance=ExtResource( 7 )]
position = Vector2( 1024, 512 )

[node name="room_3" parent="." index="4" instance=ExtResource( 4 )]
position = Vector2( 2560, 384 )
size = Vector2( 20, 24 )

[node name="enemy" parent="room_3" index="1" instance=ExtResource( 7 )]
position = Vector2( 576, 960 )

[node name="enemy_2" parent="room_3" index="2" instance=ExtResource( 7 )]
position = Vector2( 128, 576 )

[node name="enemy_3" parent="room_3" index="3" instance=ExtResource( 7 )]
position = Vector2( 640, 704 )

[node name="enemy_4" parent="room_3" index="4" instance=ExtResource( 7 )]
position = Vector2( 1088, 512 )

[node name="enemy_5" parent="room_3" index="5" instance=ExtResource( 7 )]
position = Vector2( 576, 1152 )

[node name="enemy_6" parent="room_3" index="6" instance=ExtResource( 7 )]
position = Vector2( 1088, 1216 )

[node name="enemy_7" parent="room_3" index="7" instance=ExtResource( 7 )]
position = Vector2( 640, 320 )
max_health = 3

[node name="hazard_zone" parent="room_3" index="8" instance=ExtResource( 10 )]
position = Vector2( 0, 1536 )

[node name="respawn" type="Node2D" parent="room_3/hazard_zone" index="1"]
position = Vector2( 128, -480 )

[node name="__temp" parent="." index="5"]
visible = false

[node name="bg" type="Sprite" parent="." index="6"]
modulate = Color( 0.635294, 0.635294, 0.635294, 1 )
position = Vector2( -360, -160 )
scale = Vector2( 2, 2 )
z_index = -10
texture = ExtResource( 2 )
centered = false
script = SubResource( 1 )

[editable path="==EDITOR ONLY==/post_process"]
